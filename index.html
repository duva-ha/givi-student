<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-TECH Hub 2026 - Digital Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; margin: 0; overflow: hidden; }
        
        aside { background: #0f172a; color: #f8fafc; transition: all 0.4s ease; }
        .sidebar-active { 
            background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%); 
            color: white; 
            box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.4);
            border-radius: 1rem;
        }

        .lesson-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        .lesson-card.active {
            border-color: #0ea5e9;
            background: #f0f9ff;
            transform: translateX(4px);
        }

        .modal-overlay { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(8px); }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        
        .instruction-box {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            border-radius: 1rem;
        }

        /* Hi·ªáu ·ª©ng ·∫©n m∆∞·ª£t m√† */
        .hide-left { transform: translateX(-100%); width: 0 !important; padding: 0 !important; opacity: 0; pointer-events: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const firebaseConfig = {
            apiKey: "AIzaSyAV-XVaOyUiq1c-29VTaWjLKcEXrssnnTE",
            authDomain: "qlhs10a7.firebaseapp.com",
            projectId: "qlhs10a7",
            storageBucket: "qlhs10a7.firebasestorage.app",
            messagingSenderId: "584229565603",
            appId: "1:584229565603:web:d47a10f0a512a1a309bb16"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        const DATA = {
            "12": [
                { id: "12-1", title: "B√†i 1: H·ªá th·ªëng ƒëi·ªán qu·ªëc gia", content: "H·ªá th·ªëng ƒëi·ªán qu·ªëc gia bao g·ªìm: Ngu·ªìn ƒëi·ªán, l∆∞·ªõi ƒëi·ªán v√† c√°c h·ªô ti√™u th·ª• ƒëi·ªán tr√™n to√†n l√£nh th·ªï qu·ªëc gia, ƒë∆∞·ª£c li√™n k·∫øt v·ªõi nhau th√†nh m·ªôt h·ªá th·ªëng ƒë·ªÉ th·ª±c hi·ªán qu√° tr√¨nh s·∫£n xu·∫•t, truy·ªÅn t·∫£i v√† ph√¢n ph·ªëi ƒëi·ªán nƒÉng.", instruction: "Xem s∆° ƒë·ªì h√¨nh 1.1 SGK C√¥ng ngh·ªá 12." },
                { id: "12-2", title: "B√†i 2: H·ªá th·ªëng ƒëi·ªán gia ƒë√¨nh", content: "M·∫°ng ƒëi·ªán trong nh√† c√≥ ƒëi·ªán √°p th·∫•p, ƒë·ªãnh m·ª©c th∆∞·ªùng l√† 220V. G·ªìm c√≥: C√¥ng t∆° ƒëi·ªán, ƒë∆∞·ªùng d√¢y d·∫´n ƒëi·ªán, c√°c thi·∫øt b·ªã ƒë√≥ng c·∫Øt, b·∫£o v·ªá v√† c√°c ƒë·ªì d√πng ƒëi·ªán.", instruction: "Ghi nh·ªõ c√°c k√Ω hi·ªáu linh ki·ªán ƒëi·ªán t·ª≠ c∆° b·∫£n." }
            ],
            "11": [{ id: "11-1", title: "B√†i 1: C∆° kh√≠ ch·∫ø t·∫°o", content: "C∆° kh√≠ ch·∫ø t·∫°o l√† ng√†nh khoa h·ªçc k·ªπ thu·∫≠t nghi√™n c·ª©u v·ªÅ thi·∫øt k·∫ø, ch·∫ø t·∫°o v√† v·∫≠n h√†nh c√°c lo·∫°i m√°y m√≥c thi·∫øt b·ªã ph·ª•c v·ª• ƒë·ªùi s·ªëng.", instruction: "H·ªçc thu·ªôc 5 v·∫≠t li·ªáu c∆° kh√≠ ph·ªï bi·∫øn." }],
            "10": [{ id: "10-1", title: "B√†i 1: Nh·∫≠p m√¥n c√¥ng ngh·ªá", content: "Khoa h·ªçc l√† h·ªá th·ªëng tri th·ª©c v·ªÅ th·∫ø gi·ªõi xung quanh. K·ªπ thu·∫≠t l√† ·ª©ng d·ª•ng khoa h·ªçc ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ. C√¥ng ngh·ªá l√† c√°c gi·∫£i ph√°p c·ª• th·ªÉ.", instruction: "So s√°nh s·ª± kh√°c bi·ªát gi·ªØa k·ªπ thu·∫≠t v√† c√¥ng ngh·ªá." }]
        };

        const QUIZZES = [
            { id: "q1", title: "Ki·ªÉm tra 5 ph√∫t - B√†i 1", time: 300, questions: [{ q: "ƒê∆°n v·ªã c·ªßa t·ª• ƒëi·ªán l√† g√¨?", a: ["Ohm", "Farad", "Henry", "Ampe"], correct: 1 }] }
        ];

        function App() {
            const [user, setUser] = useState(null);
            const [tab, setTab] = useState('baigiang');
            const [grade, setGrade] = useState('12');
            const [ls, setLs] = useState(null);
            const [qz, setQz] = useState(null);
            const [isFocus, setIsFocus] = useState(false); // Tr·∫°ng th√°i Ch·∫ø ƒë·ªô t·∫≠p trung

            useEffect(() => {
                const unsub = auth.onAuthStateChanged(u => setUser(u));
                return () => unsub();
            }, []);

            useEffect(() => { setLs(DATA[grade][0]); }, [grade]);

            if (!user) return (
                <div className="h-screen flex items-center justify-center bg-slate-950 text-white font-black italic text-3xl">
                    <button onClick={() => auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())} className="bg-white text-slate-950 px-10 py-4 rounded-full shadow-2xl transition-all active:scale-95">ƒêƒÇNG NH·∫¨P E-TECH</button>
                </div>
            );

            return (
                <div className="flex h-screen overflow-hidden">
                    {/* SIDEBAR (Ngo√†i c√πng) */}
                    <aside className={`w-72 flex flex-col p-8 z-50 ${isFocus ? 'hide-left' : ''}`}>
                        <div className="mb-16 flex items-center gap-3">
                            <div className="w-10 h-10 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-black italic shadow-lg">E</div>
                            <span className="font-black text-2xl tracking-tighter italic">E-TECH</span>
                        </div>
                        <nav className="flex-1 space-y-3">
                            {['baigiang', 'luyentap', 'kiemtra'].map(id => (
                                <button key={id} onClick={() => setTab(id)} className={`w-full flex items-center gap-4 px-6 py-4 text-sm font-bold transition-all ${tab === id ? 'sidebar-active' : 'text-slate-500 hover:text-slate-300'}`}>
                                    {id === 'baigiang' ? 'üìñ B√†i h·ªçc' : id === 'luyentap' ? 'üìù Luy·ªán t·∫≠p' : 'üéØ Ki·ªÉm tra'}
                                </button>
                            ))}
                        </nav>
                        <div className="mt-auto p-4 bg-slate-900/50 rounded-2xl border border-slate-800 flex items-center gap-3">
                            <img src={user.photoURL} className="w-8 h-8 rounded-full border border-slate-700" />
                            <div className="overflow-hidden">
                                <p className="text-[10px] font-black truncate">{user.displayName}</p>
                                <button onClick={()=>auth.signOut()} className="text-[9px] font-bold text-rose-500 uppercase">Tho√°t</button>
                            </div>
                        </div>
                    </aside>

                    {/* MAIN CONTENT AREA */}
                    <main className="flex-1 bg-white relative rounded-l-[3rem] shadow-2xl overflow-hidden border-l border-slate-100 transition-all duration-500">
                        {tab === 'baigiang' ? (
                            <div className="flex h-full">
                                {/* C·ªòT GI·ªÆA (Danh s√°ch b√†i h·ªçc) */}
                                <div className={`w-80 bg-slate-50/50 border-r p-8 flex flex-col transition-all duration-400 ${isFocus ? 'hide-left' : ''}`}>
                                    <div className="mb-8">
                                        <select value={grade} onChange={e=>setGrade(e.target.value)} className="w-full p-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-700 outline-none shadow-sm">
                                            <option value="12">L·ªõp 12</option><option value="11">L·ªõp 11</option><option value="10">L·ªõp 10</option>
                                        </select>
                                    </div>
                                    <div className="flex-1 overflow-y-auto space-y-3 custom-scroll">
                                        {DATA[grade].map(l => (
                                            <div key={l.id} onClick={()=>setLs(l)} className={`lesson-card p-5 ${ls?.id===l.id?'active shadow-md':''}`}>
                                                <div className="text-[10px] font-black text-slate-300 mb-1 uppercase tracking-tighter italic">B√†i {l.id.split('-')[1]}</div>
                                                <div className="font-bold text-[13px] leading-tight">{l.title}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* N·ªòI DUNG B√ÄI H·ªåC CH√çNH */}
                                <div className="flex-1 p-16 overflow-y-auto custom-scroll relative">
                                    {/* N√öT FOCUS MODE (T·ªëi ∆∞u h√≥a) */}
                                    <button 
                                        onClick={() => setIsFocus(!isFocus)} 
                                        className="absolute top-8 left-8 w-12 h-12 flex items-center justify-center bg-slate-100 hover:bg-blue-600 hover:text-white text-slate-400 rounded-2xl transition-all shadow-sm z-10"
                                        title={isFocus ? "M·ªü l·∫°i menu" : "Thu g·ªçn menu"}
                                    >
                                        {isFocus ? <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeWidth="2.5" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/></svg> : <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeWidth="2.5" d="M4 6h16M4 12h16m-7 6h7"/></svg>}
                                    </button>

                                    <div className={`transition-all duration-500 ${isFocus ? 'max-w-5xl mx-auto pt-10' : ''}`}>
                                        <h2 className="text-5xl font-black text-slate-900 mb-10 tracking-tighter leading-none mt-10">{ls?.title}</h2>
                                        <div className="text-xl leading-relaxed text-slate-600 font-medium mb-12">{ls?.content}</div>
                                        <div className="instruction-box p-8">
                                            <div className="flex items-center gap-3 mb-4 text-emerald-600 font-black text-xs uppercase tracking-[0.2em]">üí° H∆∞·ªõng d·∫´n h·ªçc t·∫≠p</div>
                                            <p className="text-slate-700 font-bold text-lg italic">{ls?.instruction}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ) : (
                            <div className="p-16 h-full bg-slate-50/30 overflow-y-auto">
                                <h2 className="text-5xl font-black mb-16 tracking-tighter text-slate-900 uppercase italic">H·ªçc ph·∫ßn {tab}</h2>
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                                    {QUIZZES.map(q => (
                                        <div key={q.id} onClick={()=>setQz(q)} className="lesson-card p-10 h-72 flex flex-col justify-between group">
                                            <div className="w-16 h-16 bg-blue-50 text-blue-600 rounded-[1.5rem] flex items-center justify-center text-3xl group-hover:bg-blue-600 group-hover:text-white transition-all shadow-inner">üìù</div>
                                            <h4 className="text-xl font-black mb-2">{q.title}</h4>
                                            <div className="text-[10px] font-black text-blue-500 uppercase tracking-widest">B·∫Øt ƒë·∫ßu ngay ‚Üí</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
